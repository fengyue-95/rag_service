<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Á≥ªÁªüËÆæÁΩÆ - RAG Service</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="/static/pages/settings/style.css">
</head>
<body>
    <div id="app">
        <div class="settings-container">
            <div class="page-header">
                <h1>‚öôÔ∏è Á≥ªÁªüËÆæÁΩÆ</h1>
            </div>

            <div class="settings-content">
                <!-- API ËÆæÁΩÆ -->
                <el-card class="settings-card">
                    <div slot="header" class="card-header">
                        <span>üîë API ËÆæÁΩÆ</span>
                        <el-tag type="success" size="small" v-if="apiStatus === 'connected'">Â∑≤ËøûÊé•</el-tag>
                        <el-tag type="danger" size="small" v-else>Êú™ËøûÊé•</el-tag>
                    </div>
                    <el-form label-position="top" size="small">
                        <el-form-item label="API Á±ªÂûã">
                            <el-select v-model="settings.apiType" class="full-width">
                                <el-option label="DeepSeek" value="deepseek"></el-option>
                                <el-option label="Ollama" value="ollama"></el-option>
                            </el-select>
                        </el-form-item>
                        <el-form-item label="API Key" v-if="settings.apiType === 'deepseek'">
                            <el-input v-model="settings.apiKey" type="password" show-password placeholder="ËæìÂÖ• DeepSeek API Key"></el-input>
                        </el-form-item>
                        <el-form-item label="Ollama Âú∞ÂùÄ" v-if="settings.apiType === 'ollama'">
                            <el-input v-model="settings.ollamaUrl" placeholder="http://localhost:11434"></el-input>
                        </el-form-item>
                        <el-form-item label="Ê®°ÂûãÂêçÁß∞">
                            <el-input v-model="settings.modelName" placeholder="deepseek-chat / llama3.2"></el-input>
                        </el-form-item>
                        <el-button type="primary" @click="testApiConnection" :loading="testingApi">
                            {{ testingApi ? 'ÊµãËØï‰∏≠...' : 'ÊµãËØïËøûÊé•' }}
                        </el-button>
                    </el-form>
                </el-card>

                <!-- Á¥¢ÂºïËÆæÁΩÆ -->
                <el-card class="settings-card">
                    <div slot="header" class="card-header">
                        <span>üìö Á¥¢ÂºïËÆæÁΩÆ</span>
                    </div>
                    <el-form label-position="top" size="small">
                        <el-form-item label="ÂàÜÂùóÂ§ßÂ∞è">
                            <el-slider v-model="settings.chunkSize" :min="100" :max="2000" :step="100" show-input></el-slider>
                        </el-form-item>
                        <el-form-item label="ÂàÜÂùóÈáçÂè†">
                            <el-slider v-model="settings.chunkOverlap" :min="0" :max="500" :step="50" show-input></el-slider>
                        </el-form-item>
                        <el-form-item label="Ê£ÄÁ¥¢Êï∞Èáè">
                            <el-input-number v-model="settings.topK" :min="1" :max="20"></el-input-number>
                        </el-form-item>
                        <el-form-item label="Áõ∏‰ººÂ∫¶ÈòàÂÄº">
                            <el-input-number v-model="settings.similarityThreshold" :min="0" :max="1" :step="0.1" :precision="2"></el-input-number>
                        </el-form-item>
                    </el-form>
                </el-card>

                <!-- RAG ÊñπÊ≥ïÈªòËÆ§ËÆæÁΩÆ -->
                <el-card class="settings-card">
                    <div slot="header" class="card-header">
                        <span>üß† ÈªòËÆ§ RAG ÊñπÊ≥ï</span>
                    </div>
                    <el-form label-position="top" size="small">
                        <el-form-item label="ÈÄâÊã©ÈªòËÆ§ÊñπÊ≥ï">
                            <el-select v-model="settings.defaultRagMethod" class="full-width">
                                <el-option-group label="ÂéüÂßãÊñáÊ°£Â¢ûÂº∫">
                                    <el-option label="SimpleRAGÔºàÁÆÄÂçïÂàáÂùóÔºâ" value="option1"></el-option>
                                    <el-option label="Semantic ChunkingÔºàËØ≠‰πâÂàáÂùóÔºâ" value="option2"></el-option>
                                    <el-option label="Context Enriched RetrievalÔºà‰∏ä‰∏ãÊñáÂ¢ûÂº∫Ôºâ" value="option3"></el-option>
                                </el-option-group>
                                <el-option-group label="Êü•ËØ¢ÊñáÊ°£Â¢ûÂº∫">
                                    <el-option label="Query TransformationÔºàÊü•ËØ¢ËΩ¨Êç¢Ôºâ" value="option8"></el-option>
                                    <el-option label="HyDEÔºàÂÅáËÆæÊñáÊ°£ÂµåÂÖ•Ôºâ" value="option9"></el-option>
                                </el-option-group>
                            </el-select>
                        </el-form-item>
                    </el-form>
                </el-card>

                <!-- ÁïåÈù¢ËÆæÁΩÆ -->
                <el-card class="settings-card">
                    <div slot="header" class="card-header">
                        <span>üé® ÁïåÈù¢ËÆæÁΩÆ</span>
                    </div>
                    <el-form label-position="top" size="small">
                        <el-form-item label="‰∏ªÈ¢ò">
                            <el-radio-group v-model="settings.theme">
                                <el-radio-button label="light">ÊµÖËâ≤</el-radio-button>
                                <el-radio-button label="dark">Ê∑±Ëâ≤</el-radio-button>
                            </el-radio-group>
                        </el-form-item>
                        <el-form-item label="ËØ≠Ë®Ä">
                            <el-select v-model="settings.language" class="full-width">
                                <el-option label="‰∏≠Êñá" value="zh-CN"></el-option>
                                <el-option label="English" value="en-US"></el-option>
                            </el-select>
                        </el-form-item>
                        <el-form-item label="Ëá™Âä®‰øùÂ≠òÂØπËØù">
                            <el-switch v-model="settings.autoSaveChat"></el-switch>
                            <span class="form-hint">Ëá™Âä®‰øùÂ≠òÂØπËØùËÆ∞ÂΩïÂà∞Êú¨Âú∞</span>
                        </el-form-item>
                    </el-form>
                </el-card>

                <!-- ÂÖ≥‰∫é -->
                <el-card class="settings-card about-card">
                    <div slot="header" class="card-header">
                        <span>‚ÑπÔ∏è ÂÖ≥‰∫é</span>
                    </div>
                    <div class="about-content">
                        <div class="about-logo">Y</div>
                        <h3>RAG Service</h3>
                        <p class="version">ÁâàÊú¨ 1.0.0</p>
                        <p class="description">Âü∫‰∫é FastAPI + Vue.js ÁöÑÊ£ÄÁ¥¢Â¢ûÂº∫ÁîüÊàêÊúçÂä°</p>
                        <div class="tech-stack">
                            <el-tag size="small">FastAPI</el-tag>
                            <el-tag size="small">Vue.js 2.7</el-tag>
                            <el-tag size="small">Element UI</el-tag>
                            <el-tag size="small">Vector Search</el-tag>
                        </div>
                    </div>
                </el-card>
            </div>

            <div class="settings-footer">
                <el-button type="primary" @click="saveSettings" :loading="saving">‰øùÂ≠òËÆæÁΩÆ</el-button>
                <el-button @click="resetSettings">ÊÅ¢Â§çÈªòËÆ§</el-button>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/vue@2.7.14/dist/vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="/static/pages/settings/app.js"></script>
</body>
</html>